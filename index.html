<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Ğ¡Ğ²ĞµÑ‚ Ğ¡Ğ»Ğ¾Ğ²Ğ°</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="assets/icon-192.png">
</head>
<body>
  <h1>ğŸ“˜ Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ¡Ğ²ĞµÑ‚ Ğ¡Ğ»Ğ¾Ğ²Ğ°</h1>

  <a href="read.html"><button>ğŸ“– Ğ§Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ñ</button></a>

  <button id="themeToggle">ğŸŒ™ Ğ¢ĞµĞ¼Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ°</button>

  <div class="verse-block" id="verseOfTheDay">
    <h2>âœ¨ Ğ¡Ñ‚Ğ¸Ñ… Ğ´Ğ½Ñ</h2>
    <p class="verse" id="dailyVerse">Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ÑÑ‚Ğ¸Ñ…Ğ°...</p>
    <button id="speakVerseBtn">ğŸ”Š ĞĞ·Ğ²ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ¸Ñ…</button>
  </div>

  <script>
    // ğŸŒ™ ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¼Ñ‹
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      const isDark = document.body.classList.contains('dark');
      themeToggle.textContent = isDark ? 'â˜€ï¸ Ğ¡Ğ²ĞµÑ‚Ğ»Ğ°Ñ Ñ‚ĞµĞ¼Ğ°' : 'ğŸŒ™ Ğ¢ĞµĞ¼Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ°';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    window.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        document.body.classList.add('dark');
        themeToggle.textContent = 'â˜€ï¸ Ğ¡Ğ²ĞµÑ‚Ğ»Ğ°Ñ Ñ‚ĞµĞ¼Ğ°';
      }

      // ğŸ“– Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° bible.json
      fetch('data/bible.json')
        .then(res => res.json())
        .then(data => {
          const allVerses = [];
          data.Books.forEach(book => {
            book.Chapters.forEach((chapter, chIdx) => {
              chapter.Verses.forEach((v, vIdx) => {
                const verseText = `${book.BookName} ${chIdx + 1}:${v.VerseId || vIdx + 1} â€” ${v.Text}`;
                allVerses.push(verseText);
              });
            });
          });
          const random = allVerses[Math.floor(Math.random() * allVerses.length)];
          document.getElementById('dailyVerse').textContent = random;
        });
    });

    // ğŸ”Š ĞĞ·Ğ²ÑƒÑ‡ĞºĞ° ÑÑ‚Ğ¸Ñ…Ğ°
    document.getElementById('speakVerseBtn').addEventListener('click', () => {
      const verseText = document.getElementById('dailyVerse').textContent;
      const utter = new SpeechSynthesisUtterance(verseText);
      utter.lang = 'ru-RU';
      utter.rate = 1;
      speechSynthesis.speak(utter);
    });
  </script>
</body>
</html>



